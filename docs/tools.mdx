---
title: "Tools"
description: "Learn how to integrate and manage tools in your NOMOS agents"
---

# Tools

Tools are the hands and eyes of your NOMOS agent—they enable interaction with external systems, data processing, and action execution. NOMOS provides a flexible and secure tool integration system that gives agents capabilities while maintaining control and auditability.

## What Are Tools?

<Info>
**Tools = Agent Capabilities**

Tools are functions that your agent can call to interact with the world—from simple calculations to complex API integrations, database queries, or external service calls.
</Info>

<CardGroup cols={2}>
  <Card title="Function-Based" icon="code" iconType="solid">
    Convert any Python function into an agent tool with automatic parameter validation
  </Card>
  <Card title="Contextual Access" icon="key" iconType="solid">
    Tools are only available when needed, improving security and reducing confusion
  </Card>
  <Card title="Type Safety" icon="shield-check" iconType="solid">
    Automatic parameter validation and type checking prevent runtime errors
  </Card>
  <Card title="Framework Integration" icon="puzzle-piece" iconType="solid">
    Compatible with existing tools from LangChain, CrewAI, and other frameworks
  </Card>
</CardGroup>

## Tool Definition

### Basic Python Function

The simplest way to create a tool is with a regular Python function:

```python
# barista_tools.py
def get_available_coffee_options() -> str:
    """
    Get available coffee options, sizes, and prices.

    Returns:
        str: Formatted list of available coffee options with prices
    """
    coffee_options = [
        {
            "type": "Espresso",
            "sizes": ["Small", "Medium", "Large"],
            "prices": [2.5, 3.0, 3.5],
        },
        {
            "type": "Latte",
            "sizes": ["Small", "Medium", "Large"],
            "prices": [3.0, 3.5, 4.0],
        }
    ]

    result = "Available Coffee Options:\n"
    for option in coffee_options:
        result += f"{option['type']}: "
        for size, price in zip(option['sizes'], option['prices']):
            result += f"{size} (${price}) "
        result += "\n"

    return result

def add_to_cart(coffee_type: str, size: str, price: float) -> str:
    """
    Add a coffee item to the customer's cart.

    Args:
        coffee_type: Type of coffee (e.g., Espresso, Latte, Cappuccino)
        size: Size of the coffee (Small, Medium, Large)
        price: Price of the coffee item

    Returns:
        str: Confirmation message with updated cart total
    """
    # Implementation logic here
    item = {
        "coffee_type": coffee_type,
        "size": size,
        "price": price,
        "id": generate_item_id()
    }
    coffee_cart.append(item)

    current_total = sum(item["price"] for item in coffee_cart)
    return f"Added {size} {coffee_type} to cart. Current total: ${current_total:.2f}"
```

## Tool Configuration

### In YAML Configuration

Tools are referenced in your agent configuration:

```yaml
name: barista
persona: "You are a helpful barista assistant..."
start_step_id: start

steps:
  - step_id: start
    description: "Greet customer and show menu options"
    available_tools:
      - get_available_coffee_options
    routes:
      - target: take_coffee_order
        condition: Customer is ready to order

  - step_id: take_coffee_order
    description: "Take and manage coffee orders"
    available_tools:
      - get_available_coffee_options
      - add_to_cart
      - remove_item
      - clear_cart
    routes:
      - target: finalize_order
        condition: Customer wants to finalize order

# Tool configuration
tools:
  tool_files:
    - barista_tools.py
  tool_defs:
    add_to_cart:
      args:
        - key: coffee_type
          desc: "Type of coffee (e.g., Espresso, Latte, Cappuccino)"
        - key: size
          desc: "Size of the coffee (Small, Medium, Large)"
        - key: price
          desc: "Price of the coffee"
```

### Enhanced Tool Definitions

You can provide additional context for tools:

```yaml
tools:
  tool_files:
    - financial_tools.py
    - external_apis.py

  tool_defs:
    calculate_budget:
      desc: "Calculate recommended budget allocation based on income"
      args:
        - key: monthly_income
          desc: "User's monthly income in dollars"
          type: "float"
        - key: has_dependents
          desc: "Whether the user has dependents"
          type: "bool"

    get_stock_price:
      desc: "Get current stock price from external API"
      args:
        - key: symbol
          desc: "Stock symbol (e.g., AAPL, GOOGL)"
          type: "str"
        - key: exchange
          desc: "Stock exchange (optional)"
          type: "str"
```

## Tool Types

### 1. **Information Retrieval Tools**

<Card title="Data Access" icon="database">
Tools that fetch information from databases, APIs, or knowledge bases
</Card>

```python
def search_knowledge_base(query: str) -> str:
    """
    Search the company knowledge base for relevant information.

    Args:
        query: Search query string

    Returns:
        str: Relevant information from knowledge base
    """
    # Implementation using vector search, database query, etc.
    results = vector_search(query, top_k=5)
    return format_search_results(results)

def get_weather(location: str) -> str:
    """
    Get current weather information for a location.

    Args:
        location: City name or coordinates

    Returns:
        str: Weather information
    """
    response = requests.get(f"https://api.weather.com/v1/current?location={location}")
    return format_weather_data(response.json())
```

### 2. **Action Tools**

<Card title="System Actions" icon="play">
Tools that perform actions or modify system state
</Card>

```python
def send_email(recipient: str, subject: str, body: str) -> str:
    """
    Send an email to the specified recipient.

    Args:
        recipient: Email address of recipient
        subject: Email subject line
        body: Email body content

    Returns:
        str: Confirmation of email sent
    """
    # Email sending logic
    email_service.send(recipient, subject, body)
    return f"Email sent successfully to {recipient}"

def create_calendar_event(title: str, start_time: str, duration: int) -> str:
    """
    Create a new calendar event.

    Args:
        title: Event title
        start_time: Start time in ISO format
        duration: Duration in minutes

    Returns:
        str: Confirmation with event details
    """
    # Calendar API integration
    event = calendar_api.create_event(title, start_time, duration)
    return f"Created event '{title}' at {start_time}"
```

### 3. **Calculation Tools**

<Card title="Processing" icon="calculator">
Tools that perform calculations or data processing
</Card>

```python
def calculate_loan_payment(principal: float, rate: float, years: int) -> str:
    """
    Calculate monthly loan payment.

    Args:
        principal: Loan amount in dollars
        rate: Annual interest rate as decimal (e.g., 0.05 for 5%)
        years: Loan term in years

    Returns:
        str: Monthly payment amount and total interest
    """
    monthly_rate = rate / 12
    num_payments = years * 12

    monthly_payment = principal * (monthly_rate * (1 + monthly_rate)**num_payments) / \
                     ((1 + monthly_rate)**num_payments - 1)

    total_paid = monthly_payment * num_payments
    total_interest = total_paid - principal

    return f"Monthly payment: ${monthly_payment:.2f}, Total interest: ${total_interest:.2f}"
```

## Advanced Tool Features

### Async Tools

NOMOS supports asynchronous tools for I/O operations:

```python
import asyncio
import aiohttp

async def fetch_stock_data(symbol: str) -> str:
    """
    Asynchronously fetch stock data.

    Args:
        symbol: Stock symbol to fetch

    Returns:
        str: Stock price and change information
    """
    async with aiohttp.ClientSession() as session:
        async with session.get(f"https://api.stocks.com/{symbol}") as response:
            data = await response.json()
            return f"{symbol}: ${data['price']} ({data['change']:+.2f})"
```

### Error Handling

Tools should handle errors gracefully:

```python
def get_user_profile(user_id: str) -> str:
    """
    Get user profile information.

    Args:
        user_id: Unique user identifier

    Returns:
        str: User profile information or error message
    """
    try:
        user = database.get_user(user_id)
        if not user:
            return f"User {user_id} not found"

        return f"User: {user.name}, Email: {user.email}, Status: {user.status}"

    except DatabaseError as e:
        return f"Error accessing user data: {str(e)}"
    except Exception as e:
        return f"Unexpected error: {str(e)}"
```

### Tool Validation

NOMOS automatically validates tool parameters:

```python
from typing import Literal

def set_thermostat(temperature: float, unit: Literal["F", "C"] = "F") -> str:
    """
    Set thermostat temperature.

    Args:
        temperature: Desired temperature
        unit: Temperature unit (F or C)

    Returns:
        str: Confirmation of temperature setting
    """
    if unit == "C" and (temperature < 10 or temperature > 35):
        return "Temperature out of reasonable range for Celsius"
    elif unit == "F" and (temperature < 50 or temperature > 95):
        return "Temperature out of reasonable range for Fahrenheit"

    # Set temperature logic
    return f"Thermostat set to {temperature}°{unit}"
```

## External Tool Integration

### Python Package Tools

NOMOS can directly use functions from Python packages without wrapper code:

```yaml
# config.agent.yaml
tools:
  external_tools:
    - tag: "@pkg/itertools.combinations"
      name: "combinations"
    - tag: "@pkg/math.sqrt"
      name: "sqrt"
    - tag: "@pkg/datetime.datetime.now"
      name: "get_current_time"
    - tag: "@pkg/json.loads"
      name: "parse_json"
      kwargs:
        strict: false
```

**Benefits:**
- No wrapper code needed
- Automatic parameter validation
- Docstring-based descriptions
- Direct access to Python ecosystem

### CrewAI Tools Integration

Use existing CrewAI tools directly in your NOMOS agents:

```yaml
# config.agent.yaml
tools:
  external_tools:
    - tag: "@crewai/FileReadTool"
      name: "file_read_tool"
    - tag: "@crewai/FileWriteTool"
      name: "file_write_tool"
    - tag: "@crewai/DirectoryReadTool"
      name: "directory_read_tool"
    - tag: "@crewai/CodeDocsSearchTool"
      name: "code_search_tool"
      kwargs:
        docs_url: "https://docs.example.com"
```

**Python Usage:**
```python
from crewai_tools import FileReadTool, WebsiteSearchTool

# These can be used directly in NOMOS
def setup_agent_with_crewai_tools():
    config = AgentConfig(
        # ... other config
        tools=ToolsConfig(
            external_tools=[
                ExternalTool(tag="@crewai/FileReadTool", name="read_file"),
                ExternalTool(tag="@crewai/WebsiteSearchTool", name="web_search")
            ]
        )
    )
```

### LangChain Tools Integration

Integrate LangChain tools seamlessly:

```yaml
# config.agent.yaml
tools:
  external_tools:
    - tag: "@langchain/DuckDuckGoSearchRun"
      name: "web_search"
    - tag: "@langchain/ShellTool"
      name: "shell_command"
    - tag: "@langchain/PythonREPLTool"
      name: "python_repl"
    - tag: "@langchain/WikipediaQueryRun"
      name: "wikipedia_search"
      kwargs:
        top_k_results: 3
```

**Python Usage:**
```python
from langchain_community.tools import DuckDuckGoSearchRun, ShellTool

# Direct integration in Python
config = AgentConfig(
    # ... other config
    tools=ToolsConfig(
        external_tools=[
            ExternalTool(tag="@langchain/DuckDuckGoSearchRun", name="search"),
            ExternalTool(tag="@langchain/ShellTool", name="shell")
        ]
    )
)
```

## Advanced Tool Features

### Async Tools

NOMOS supports asynchronous tools for I/O operations:

```python
import asyncio
import aiohttp

async def fetch_stock_data(symbol: str) -> str:
    """
    Asynchronously fetch stock data.

    Args:
        symbol: Stock symbol to fetch

    Returns:
        str: Stock price and change information
    """
    async with aiohttp.ClientSession() as session:
        async with session.get(f"https://api.stocks.com/{symbol}") as response:
            data = await response.json()
            return f"{symbol}: ${data['price']} ({data['change']:+.2f})"
```

### Error Handling

Tools should handle errors gracefully:

```python
def get_user_profile(user_id: str) -> str:
    """
    Get user profile information.

    Args:
        user_id: Unique user identifier

    Returns:
        str: User profile information or error message
    """
    try:
        user = database.get_user(user_id)
        if not user:
            return f"User {user_id} not found"

        return f"User: {user.name}, Email: {user.email}, Status: {user.status}"

    except DatabaseError as e:
        return f"Error accessing user data: {str(e)}"
    except Exception as e:
        return f"Unexpected error: {str(e)}"
```

### Tool Validation

NOMOS automatically validates tool parameters:

```python
from typing import Literal

def set_thermostat(temperature: float, unit: Literal["F", "C"] = "F") -> str:
    """
    Set thermostat temperature.

    Args:
        temperature: Desired temperature
        unit: Temperature unit (F or C)

    Returns:
        str: Confirmation of temperature setting
    """
    if unit == "C" and (temperature < 10 or temperature > 35):
        return "Temperature out of reasonable range for Celsius"
    elif unit == "F" and (temperature < 50 or temperature > 95):
        return "Temperature out of reasonable range for Fahrenheit"

    # Set temperature logic
    return f"Thermostat set to {temperature}°{unit}"
```

## External Tool Integration

### Python Package Tools

NOMOS can directly use functions from Python packages without wrapper code:

```yaml
# config.agent.yaml
tools:
  external_tools:
    - tag: "@pkg/itertools.combinations"
      name: "combinations"
    - tag: "@pkg/math.sqrt"
      name: "sqrt"
    - tag: "@pkg/datetime.datetime.now"
      name: "get_current_time"
    - tag: "@pkg/json.loads"
      name: "parse_json"
      kwargs:
        strict: false
```

**Benefits:**
- No wrapper code needed
- Automatic parameter validation
- Docstring-based descriptions
- Direct access to Python ecosystem

### CrewAI Tools Integration

Use existing CrewAI tools directly in your NOMOS agents:

```yaml
# config.agent.yaml
tools:
  external_tools:
    - tag: "@crewai/FileReadTool"
      name: "file_read_tool"
    - tag: "@crewai/FileWriteTool"
      name: "file_write_tool"
    - tag: "@crewai/DirectoryReadTool"
      name: "directory_read_tool"
    - tag: "@crewai/CodeDocsSearchTool"
      name: "code_search_tool"
      kwargs:
        docs_url: "https://docs.example.com"
```

**Python Usage:**
```python
from crewai_tools import FileReadTool, WebsiteSearchTool

# These can be used directly in NOMOS
def setup_agent_with_crewai_tools():
    config = AgentConfig(
        # ... other config
        tools=ToolsConfig(
            external_tools=[
                ExternalTool(tag="@crewai/FileReadTool", name="read_file"),
                ExternalTool(tag="@crewai/WebsiteSearchTool", name="web_search")
            ]
        )
    )
```

### LangChain Tools Integration

Integrate LangChain tools seamlessly:

```yaml
# config.agent.yaml
tools:
  external_tools:
    - tag: "@langchain/DuckDuckGoSearchRun"
      name: "web_search"
    - tag: "@langchain/ShellTool"
      name: "shell_command"
    - tag: "@langchain/PythonREPLTool"
      name: "python_repl"
    - tag: "@langchain/WikipediaQueryRun"
      name: "wikipedia_search"
      kwargs:
        top_k_results: 3
```

**Python Usage:**
```python
from langchain_community.tools import DuckDuckGoSearchRun, ShellTool

# Direct integration in Python
config = AgentConfig(
    # ... other config
    tools=ToolsConfig(
        external_tools=[
            ExternalTool(tag="@langchain/DuckDuckGoSearchRun", name="search"),
            ExternalTool(tag="@langchain/ShellTool", name="shell")
        ]
    )
)
```

## Advanced Tool Features

### Async Tools

NOMOS supports asynchronous tools for I/O operations:

```python
import asyncio
import aiohttp

async def fetch_stock_data(symbol: str) -> str:
    """
    Asynchronously fetch stock data.

    Args:
        symbol: Stock symbol to fetch

    Returns:
        str: Stock price and change information
    """
    async with aiohttp.ClientSession() as session:
        async with session.get(f"https://api.stocks.com/{symbol}") as response:
            data = await response.json()
            return f"{symbol}: ${data['price']} ({data['change']:+.2f})"
```

### Error Handling

Tools should handle errors gracefully:

```python
def get_user_profile(user_id: str) -> str:
    """
    Get user profile information.

    Args:
        user_id: Unique user identifier

    Returns:
        str: User profile information or error message
    """
    try:
        user = database.get_user(user_id)
        if not user:
            return f"User {user_id} not found"

        return f"User: {user.name}, Email: {user.email}, Status: {user.status}"

    except DatabaseError as e:
        return f"Error accessing user data: {str(e)}"
    except Exception as e:
        return f"Unexpected error: {str(e)}"
```

### Tool Validation

NOMOS automatically validates tool parameters:

```python
from typing import Literal

def set_thermostat(temperature: float, unit: Literal["F", "C"] = "F") -> str:
    """
    Set thermostat temperature.

    Args:
        temperature: Desired temperature
        unit: Temperature unit (F or C)

    Returns:
        str: Confirmation of temperature setting
    """
    if unit == "C" and (temperature < 10 or temperature > 35):
        return "Temperature out of reasonable range for Celsius"
    elif unit == "F" and (temperature < 50 or temperature > 95):
        return "Temperature out of reasonable range for Fahrenheit"

    # Set temperature logic
    return f"Thermostat set to {temperature}°{unit}"
```

## External Tool Integration

### Python Package Tools

NOMOS can directly use functions from Python packages without wrapper code:

```yaml
# config.agent.yaml
tools:
  external_tools:
    - tag: "@pkg/itertools.combinations"
      name: "combinations"
    - tag: "@pkg/math.sqrt"
      name: "sqrt"
    - tag: "@pkg/datetime.datetime.now"
      name: "get_current_time"
    - tag: "@pkg/json.loads"
      name: "parse_json"
      kwargs:
        strict: false
```

**Benefits:**
- No wrapper code needed
- Automatic parameter validation
- Docstring-based descriptions
- Direct access to Python ecosystem

### CrewAI Tools Integration

Use existing CrewAI tools directly in your NOMOS agents:

```yaml
# config.agent.yaml
tools:
  external_tools:
    - tag: "@crewai/FileReadTool"
      name: "file_read_tool"
    - tag: "@crewai/FileWriteTool"
      name: "file_write_tool"
    - tag: "@crewai/DirectoryReadTool"
      name: "directory_read_tool"
    - tag: "@crewai/CodeDocsSearchTool"
      name: "code_search_tool"
      kwargs:
        docs_url: "https://docs.example.com"
```

**Python Usage:**
```python
from crewai_tools import FileReadTool, WebsiteSearchTool

# These can be used directly in NOMOS
def setup_agent_with_crewai_tools():
    config = AgentConfig(
        # ... other config
        tools=ToolsConfig(
            external_tools=[
                ExternalTool(tag="@crewai/FileReadTool", name="read_file"),
                ExternalTool(tag="@crewai/WebsiteSearchTool", name="web_search")
            ]
        )
    )
```

### LangChain Tools Integration

Integrate LangChain tools seamlessly:

```yaml
# config.agent.yaml
tools:
  external_tools:
    - tag: "@langchain/DuckDuckGoSearchRun"
      name: "web_search"
    - tag: "@langchain/ShellTool"
      name: "shell_command"
    - tag: "@langchain/PythonREPLTool"
      name: "python_repl"
    - tag: "@langchain/WikipediaQueryRun"
      name: "wikipedia_search"
      kwargs:
        top_k_results: 3
```

**Python Usage:**
```python
from langchain_community.tools import DuckDuckGoSearchRun, ShellTool

# Direct integration in Python
config = AgentConfig(
    # ... other config
    tools=ToolsConfig(
        external_tools=[
            ExternalTool(tag="@langchain/DuckDuckGoSearchRun", name="search"),
            ExternalTool(tag="@langchain/ShellTool", name="shell")
        ]
    )
)
```

## Advanced Tool Features

### Async Tools

NOMOS supports asynchronous tools for I/O operations:

```python
import asyncio
import aiohttp

async def fetch_stock_data(symbol: str) -> str:
    """
    Asynchronously fetch stock data.

    Args:
        symbol: Stock symbol to fetch

    Returns:
        str: Stock price and change information
    """
    async with aiohttp.ClientSession() as session:
        async with session.get(f"https://api.stocks.com/{symbol}") as response:
            data = await response.json()
            return f"{symbol}: ${data['price']} ({data['change']:+.2f})"
```

### Error Handling

Tools should handle errors gracefully:

```python
def get_user_profile(user_id: str) -> str:
    """
    Get user profile information.

    Args:
        user_id: Unique user identifier

    Returns:
        str: User profile information or error message
    """
    try:
        user = database.get_user(user_id)
        if not user:
            return f"User {user_id} not found"

        return f"User: {user.name}, Email: {user.email}, Status: {user.status}"

    except DatabaseError as e:
        return f"Error accessing user data: {str(e)}"
    except Exception as e:
        return f"Unexpected error: {str(e)}"
```

### Tool Validation

NOMOS automatically validates tool parameters:

```python
from typing import Literal

def set_thermostat(temperature: float, unit: Literal["F", "C"] = "F") -> str:
    """
    Set thermostat temperature.

    Args:
        temperature: Desired temperature
        unit: Temperature unit (F or C)

    Returns:
        str: Confirmation of temperature setting
    """
    if unit == "C" and (temperature < 10 or temperature > 35):
        return "Temperature out of reasonable range for Celsius"
    elif unit == "F" and (temperature < 50 or temperature > 95):
        return "Temperature out of reasonable range for Fahrenheit"

    # Set temperature logic
    return f"Thermostat set to {temperature}°{unit}"
```

## External Tool Integration

### Python Package Tools

NOMOS can directly use functions from Python packages without wrapper code:

```yaml
# config.agent.yaml
tools:
  external_tools:
    - tag: "@pkg/itertools.combinations"
      name: "combinations"
    - tag: "@pkg/math.sqrt"
      name: "sqrt"
    - tag: "@pkg/datetime.datetime.now"
      name: "get_current_time"
    - tag: "@pkg/json.loads"
      name: "parse_json"
      kwargs:
        strict: false
```

**Benefits:**
- No wrapper code needed
- Automatic parameter validation
- Docstring-based descriptions
- Direct access to Python ecosystem

### CrewAI Tools Integration

Use existing CrewAI tools directly in your NOMOS agents:

```yaml
# config.agent.yaml
tools:
  external_tools:
    - tag: "@crewai/FileReadTool"
      name: "file_read_tool"
    - tag: "@crewai/FileWriteTool"
      name: "file_write_tool"
    - tag: "@crewai/DirectoryReadTool"
      name: "directory_read_tool"
    - tag: "@crewai/CodeDocsSearchTool"
      name: "code_search_tool"
      kwargs:
        docs_url: "https://docs.example.com"
```

**Python Usage:**
```python
from crewai_tools import FileReadTool, WebsiteSearchTool

# These can be used directly in NOMOS
def setup_agent_with_crewai_tools():
    config = AgentConfig(
        # ... other config
        tools=ToolsConfig(
            external_tools=[
                ExternalTool(tag="@crewai/FileReadTool", name="read_file"),
                ExternalTool(tag="@crewai/WebsiteSearchTool", name="web_search")
            ]
        )
    )
```

### LangChain Tools Integration

Integrate LangChain tools seamlessly:

```yaml
# config.agent.yaml
tools:
  external_tools:
    - tag: "@langchain/DuckDuckGoSearchRun"
      name: "web_search"
    - tag: "@langchain/ShellTool"
      name: "shell_command"
    - tag: "@langchain/PythonREPLTool"
      name: "python_repl"
    - tag: "@langchain/WikipediaQueryRun"
      name: "wikipedia_search"
      kwargs:
        top_k_results: 3
```

**Python Usage:**
```python
from langchain_community.tools import DuckDuckGoSearchRun, ShellTool

# Direct integration in Python
config = AgentConfig(
    # ... other config
    tools=ToolsConfig(
        external_tools=[
            ExternalTool(tag="@langchain/DuckDuckGoSearchRun", name="search"),
            ExternalTool(tag="@langchain/ShellTool", name="shell")
        ]
    )
)
```

## Advanced Tool Features

### Async Tools

NOMOS supports asynchronous tools for I/O operations:

```python
import asyncio
import aiohttp

async def fetch_stock_data(symbol: str) -> str:
    """
    Asynchronously fetch stock data.

    Args:
        symbol: Stock symbol to fetch

    Returns:
        str: Stock price and change information
    """
    async with aiohttp.ClientSession() as session:
        async with session.get(f"https://api.stocks.com/{symbol}") as response:
            data = await response.json()
            return f"{symbol}: ${data['price']} ({data['change']:+.2f})"
```

### Error Handling

Tools should handle errors gracefully:

```python
def get_user_profile(user_id: str) -> str:
    """
    Get user profile information.

    Args:
        user_id: Unique user identifier

    Returns:
        str: User profile information or error message
    """
    try:
        user = database.get_user(user_id)
        if not user:
            return f"User {user_id} not found"

        return f"User: {user.name}, Email: {user.email}, Status: {user.status}"

    except DatabaseError as e:
        return f"Error accessing user data: {str(e)}"
    except Exception as e:
        return f"Unexpected error: {str(e)}"
```

### Tool Validation

NOMOS automatically validates tool parameters:

```python
from typing import Literal

def set_thermostat(temperature: float, unit: Literal["F", "C"] = "F") -> str:
    """
    Set thermostat temperature.

    Args:
        temperature: Desired temperature
        unit: Temperature unit (F or C)

    Returns:
        str: Confirmation of temperature setting
    """
    if unit == "C" and (temperature < 10 or temperature > 35):
        return "Temperature out of reasonable range for Celsius"
    elif unit == "F" and (temperature < 50 or temperature > 95):
        return "Temperature out of reasonable range for Fahrenheit"

    # Set temperature logic
    return f"Thermostat set to {temperature}°{unit}"
```

## External Tool Integration

### Python Package Tools

NOMOS can directly use functions from Python packages without wrapper code:

```yaml
# config.agent.yaml
tools:
  external_tools:
    - tag: "@pkg/itertools.combinations"
      name: "combinations"
    - tag: "@pkg/math.sqrt"
      name: "sqrt"
    - tag: "@pkg/datetime.datetime.now"
      name: "get_current_time"
    - tag: "@pkg/json.loads"
      name: "parse_json"
      kwargs:
        strict: false
```

**Benefits:**
- No wrapper code needed
- Automatic parameter validation
- Docstring-based descriptions
- Direct access to Python ecosystem

### CrewAI Tools Integration

Use existing CrewAI tools directly in your NOMOS agents:

```yaml
# config.agent.yaml
tools:
  external_tools:
    - tag: "@crewai/FileReadTool"
      name: "file_read_tool"
    - tag: "@crewai/FileWriteTool"
      name: "file_write_tool"
    - tag: "@crewai/DirectoryReadTool"
      name: "directory_read_tool"
    - tag: "@crewai/CodeDocsSearchTool"
      name: "code_search_tool"
      kwargs:
        docs_url: "https://docs.example.com"
```

**Python Usage:**
```python
from crewai_tools import FileReadTool, WebsiteSearchTool

# These can be used directly in NOMOS
def setup_agent_with_crewai_tools():
    config = AgentConfig(
        # ... other config
        tools=ToolsConfig(
            external_tools=[
                ExternalTool(tag="@crewai/FileReadTool", name="read_file"),
                ExternalTool(tag="@crewai/WebsiteSearchTool", name="web_search")
            ]
        )
    )
```

### LangChain Tools Integration

Integrate LangChain tools seamlessly:

```yaml
# config.agent.yaml
tools:
  external_tools:
    - tag: "@langchain/DuckDuckGoSearchRun"
      name: "web_search"
    - tag: "@langchain/ShellTool"
      name: "shell_command"
    - tag: "@langchain/PythonREPLTool"
      name: "python_repl"
    - tag: "@langchain/WikipediaQueryRun"
      name: "wikipedia_search"
      kwargs:
        top_k_results: 3
```

**Python Usage:**
```python
from langchain_community.tools import DuckDuckGoSearchRun, ShellTool

# Direct integration in Python
config = AgentConfig(
    # ... other config
    tools=ToolsConfig(
        external_tools=[
            ExternalTool(tag="@langchain/DuckDuckGoSearchRun", name="search"),
            ExternalTool(tag="@langchain/ShellTool", name="shell")
        ]
    )
)
```

## Advanced Tool Features

### Async Tools

NOMOS supports asynchronous tools for I/O operations:

```python
import asyncio
import aiohttp

async def fetch_stock_data(symbol: str) -> str:
    """
    Asynchronously fetch stock data.

    Args:
        symbol: Stock symbol to fetch

    Returns:
        str: Stock price and change information
    """
    async with aiohttp.ClientSession() as session:
        async with session.get(f"https://api.stocks.com/{symbol}") as response:
            data = await response.json()
            return f"{symbol}: ${data['price']} ({data['change']:+.2f})"
```

### Error Handling

Tools should handle errors gracefully:

```python
def get_user_profile(user_id: str) -> str:
    """
    Get user profile information.

    Args:
        user_id: Unique user identifier

    Returns:
        str: User profile information or error message
    """
    try:
        user = database.get_user(user_id)
        if not user:
            return f"User {user_id} not found"

        return f"User: {user.name}, Email: {user.email}, Status: {user.status}"

    except DatabaseError as e:
        return f"Error accessing user data: {str(e)}"
    except Exception as e:
        return f"Unexpected error: {str(e)}"
```

### Tool Validation

NOMOS automatically validates tool parameters:

```python
from typing import Literal

def set_thermostat(temperature: float, unit: Literal["F", "C"] = "F") -> str:
    """
    Set thermostat temperature.

    Args:
        temperature: Desired temperature
        unit: Temperature unit (F or C)

    Returns:
        str: Confirmation of temperature setting
    """
    if unit == "C" and (temperature < 10 or temperature > 35):
        return "Temperature out of reasonable range for Celsius"
    elif unit == "F" and (temperature < 50 or temperature > 95):
        return "Temperature out of reasonable range for Fahrenheit"

    # Set temperature logic
    return f"Thermostat set to {temperature}°{unit}"
```

## External Tool Integration

### Python Package Tools

NOMOS can directly use functions from Python packages without wrapper code:

```yaml
# config.agent.yaml
tools:
  external_tools:
    - tag: "@pkg/itertools.combinations"
      name: "combinations"
    - tag: "@pkg/math.sqrt"
      name: "sqrt"
    - tag: "@pkg/datetime.datetime.now"
      name: "get_current_time"
    - tag: "@pkg/json.loads"
      name: "parse_json"
      kwargs:
        strict: false
```

**Benefits:**
- No wrapper code needed
- Automatic parameter validation
- Docstring-based descriptions
- Direct access to Python ecosystem

### CrewAI Tools Integration

Use existing CrewAI tools directly in your NOMOS agents:

```yaml
# config.agent.yaml
tools:
  external_tools:
    - tag: "@crewai/FileReadTool"
      name: "file_read_tool"
    - tag: "@crewai/FileWriteTool"
      name: "file_write_tool"
    - tag: "@crewai/DirectoryReadTool"
      name: "directory_read_tool"
    - tag: "@crewai/CodeDocsSearchTool"
      name: "code_search_tool"
      kwargs:
        docs_url: "https://docs.example.com"
```

**Python Usage:**
```python
from crewai_tools import FileReadTool, WebsiteSearchTool

# These can be used directly in NOMOS
def setup_agent_with_crewai_tools():
    config = AgentConfig(
        # ... other config
        tools=ToolsConfig(
            external_tools=[
                ExternalTool(tag="@crewai/FileReadTool", name="read_file"),
                ExternalTool(tag="@crewai/WebsiteSearchTool", name="web_search")
            ]
        )
    )
```

### LangChain Tools Integration

Integrate LangChain tools seamlessly:

```yaml
# config.agent.yaml
tools:
  external_tools:
    - tag: "@langchain/DuckDuckGoSearchRun"
      name: "web_search"
    - tag: "@langchain/ShellTool"
      name: "shell_command"
    - tag: "@langchain/PythonREPLTool"
      name: "python_repl"
    - tag: "@langchain/WikipediaQueryRun"
      name: "wikipedia_search"
      kwargs:
        top_k_results: 3
```

**Python Usage:**
```python
from langchain_community.tools import DuckDuckGoSearchRun, ShellTool

# Direct integration in Python
config = AgentConfig(
    # ... other config
    tools=ToolsConfig(
        external_tools=[
            ExternalTool(tag="@langchain/DuckDuckGoSearchRun", name="search"),
            ExternalTool(tag="@langchain/ShellTool", name="shell")
        ]
    )
)
```

## Advanced Tool Features

### Async Tools

NOMOS supports asynchronous tools for I/O operations:

```python
import asyncio
import aiohttp

async def fetch_stock_data(symbol: str) -> str:
    """
    Asynchronously fetch stock data.

    Args:
        symbol: Stock symbol to fetch

    Returns:
        str: Stock price and change information
    """
    async with aiohttp.ClientSession() as session:
        async with session.get(f"https://api.stocks.com/{symbol}") as response:
            data = await response.json()
            return f"{symbol}: ${data['price']} ({data['change']:+.2f})"
```

### Error Handling

Tools should handle errors gracefully:

```python
def get_user_profile(user_id: str) -> str:
    """
    Get user profile information.

    Args:
        user_id: Unique user identifier

    Returns:
        str: User profile information or error message
    """
    try:
        user = database.get_user(user_id)
        if not user:
            return f"User {user_id} not found"

        return f"User: {user.name}, Email: {user.email}, Status: {user.status}"

    except DatabaseError as e:
        return f"Error accessing user data: {str(e)}"
    except Exception as e:
        return f"Unexpected error: {str(e)}"
```

### Tool Validation

NOMOS automatically validates tool parameters:

```python
from typing import Literal

def set_thermostat(temperature: float, unit: Literal["F", "C"] = "F") -> str:
    """
    Set thermostat temperature.

    Args:
        temperature: Desired temperature
        unit: Temperature unit (F or C)

    Returns:
        str: Confirmation of temperature setting
    """
    if unit == "C" and (temperature < 10 or temperature > 35):
        return "Temperature out of reasonable range for Celsius"
    elif unit == "F" and (temperature < 50 or temperature > 95):
        return "Temperature out of reasonable range for Fahrenheit"

    # Set temperature logic
    return f"Thermostat set to {temperature}°{unit}"
```

## External Tool Integration

### Python Package Tools

NOMOS can directly use functions from Python packages without wrapper code:

```yaml
# config.agent.yaml
tools:
  external_tools:
    - tag: "@pkg/itertools.combinations"
      name: "combinations"
    - tag: "@pkg/math.sqrt"
      name: "sqrt"
    - tag: "@pkg/datetime.datetime.now"
      name: "get_current_time"
    - tag: "@pkg/json.loads"
      name: "parse_json"
      kwargs:
        strict: false
```

**Benefits:**
- No wrapper code needed
- Automatic parameter validation
- Docstring-based descriptions
- Direct access to Python ecosystem

### CrewAI Tools Integration

Use existing CrewAI tools directly in your NOMOS agents:

```yaml
# config.agent.yaml
tools:
  external_tools:
    - tag: "@crewai/FileReadTool"
      name: "file_read_tool"
    - tag: "@crewai/FileWriteTool"
      name: "file_write_tool"
    - tag: "@crewai/DirectoryReadTool"
      name: "directory_read_tool"
    - tag: "@crewai/CodeDocsSearchTool"
      name: "code_search_tool"
      kwargs:
        docs_url: "https://docs.example.com"
```

**Python Usage:**
```python
from crewai_tools import FileReadTool, WebsiteSearchTool

# These can be used directly in NOMOS
def setup_agent_with_crewai_tools():
    config = AgentConfig(
        # ... other config
        tools=ToolsConfig(
            external_tools=[
                ExternalTool(tag="@crewai/FileReadTool", name="read_file"),
                ExternalTool(tag="@crewai/WebsiteSearchTool", name="web_search")
            ]
        )
    )
```

### LangChain Tools Integration

Integrate LangChain tools seamlessly:

```yaml
# config.agent.yaml
tools:
  external_tools:
    - tag: "@langchain/DuckDuckGoSearchRun"
      name: "web_search"
    - tag: "@langchain/ShellTool"
      name: "shell_command"
    - tag: "@langchain/PythonREPLTool"
      name: "python_repl"
    - tag: "@langchain/WikipediaQueryRun"
      name: "wikipedia_search"
      kwargs:
        top_k_results: 3
```

**Python Usage:**
```python
from langchain_community.tools import DuckDuckGoSearchRun, ShellTool

# Direct integration in Python
config = AgentConfig(
    # ... other config
    tools=ToolsConfig(
        external_tools=[
            ExternalTool(tag="@langchain/DuckDuckGoSearchRun", name="search"),
            ExternalTool(tag="@langchain/ShellTool", name="shell")
        ]
    )
)
```

## Advanced Tool Features

### Async Tools

NOMOS supports asynchronous tools for I/O operations:

```python
import asyncio
import aiohttp

async def fetch_stock_data(symbol: str) -> str:
    """
    Asynchronously fetch stock data.

    Args:
        symbol: Stock symbol to fetch

    Returns:
        str: Stock price and change information
    """
    async with aiohttp.ClientSession() as session:
        async with session.get(f"https://api.stocks.com/{symbol}") as response:
            data = await response.json()
            return f"{symbol}: ${data['price']} ({data['change']:+.2f})"
```

### Error Handling

Tools should handle errors gracefully:

```python
def get_user_profile(user_id: str) -> str:
    """
    Get user profile information.

    Args:
        user_id: Unique user identifier

    Returns:
        str: User profile information or error message
    """
    try:
        user = database.get_user(user_id)
        if not user:
            return f"User {user_id} not found"

        return f"User: {user.name}, Email: {user.email}, Status: {user.status}"

    except DatabaseError as e:
        return f"Error accessing user data: {str(e)}"
    except Exception as e:
        return f"Unexpected error: {str(e)}"
```

### Tool Validation

NOMOS automatically validates tool parameters:

```python
from typing import Literal

def set_thermostat(temperature: float, unit: Literal["F", "C"] = "F") -> str:
    """
    Set thermostat temperature.

    Args:
        temperature: Desired temperature
        unit: Temperature unit (F or C)

    Returns:
        str: Confirmation of temperature setting
    """
    if unit == "C" and (temperature < 10 or temperature > 35):
        return "Temperature out of reasonable range for Celsius"
    elif unit == "F" and (temperature < 50 or temperature > 95):
        return "Temperature out of reasonable range for Fahrenheit"

    # Set temperature logic
    return f"Thermostat set to {temperature}°{unit}"
```

## External Tool Integration

### Python Package Tools

NOMOS can directly use functions from Python packages without wrapper code:

```yaml
# config.agent.yaml
tools:
  external_tools:
    - tag: "@pkg/itertools.combinations"
      name: "combinations"
    - tag: "@pkg/math.sqrt"
      name: "sqrt"
    - tag: "@pkg/datetime.datetime.now"
      name: "get_current_time"
    - tag: "@pkg/json.loads"
      name: "parse_json"
      kwargs:
        strict: false
```

**Benefits:**
- No wrapper code needed
- Automatic parameter validation
- Docstring-based descriptions
- Direct access to Python ecosystem

### CrewAI Tools Integration

Use existing CrewAI tools directly in your NOMOS agents:

```yaml
# config.agent.yaml
tools:
  external_tools:
    - tag: "@crewai/FileReadTool"
      name: "file_read_tool"
    - tag: "@crewai/FileWriteTool"
      name: "file_write_tool"
    - tag: "@crewai/DirectoryReadTool"
      name: "directory_read_tool"
    - tag: "@crewai/CodeDocsSearchTool"
      name: "code_search_tool"
      kwargs:
        docs_url: "https://docs.example.com"
```

**Python Usage:**
```python
from crewai_tools import FileReadTool, WebsiteSearchTool

# These can be used directly in NOMOS
def setup_agent_with_crewai_tools():
    config = AgentConfig(
        # ... other config
        tools=ToolsConfig(
            external_tools=[
                ExternalTool(tag="@crewai/FileReadTool", name="read_file"),
                ExternalTool(tag="@crewai/WebsiteSearchTool", name="web_search")
            ]
        )
    )
```

### LangChain Tools Integration

Integrate LangChain tools seamlessly:

```yaml
# config.agent.yaml
tools:
  external_tools:
    - tag: "@langchain/DuckDuckGoSearchRun"
      name: "web_search"
    - tag: "@langchain/ShellTool"
      name: "shell_command"
    - tag: "@langchain/PythonREPLTool"
      name: "python_repl"
    - tag: "@langchain/WikipediaQueryRun"
      name: "wikipedia_search"
      kwargs:
        top_k_results: 3
```

**Python Usage:**
```python
from langchain_community.tools import DuckDuckGoSearchRun, ShellTool

# Direct integration in Python
config = AgentConfig(
    # ... other config
    tools=ToolsConfig(
        external_tools=[
            ExternalTool(tag="@langchain/DuckDuckGoSearchRun", name="search"),
            ExternalTool(tag="@langchain/ShellTool", name="shell")
        ]
    )
)
```

## Advanced Tool Features

### Async Tools

NOMOS supports asynchronous tools for I/O operations:

```python
import asyncio
import aiohttp

async def fetch_stock_data(symbol: str) -> str:
    """
    Asynchronously fetch stock data.

    Args:
        symbol: Stock symbol to fetch

    Returns:
        str: Stock price and change information
    """
    async with aiohttp.ClientSession() as session:
        async with session.get(f"https://api.stocks.com/{symbol}") as response:
            data = await response.json()
            return f"{symbol}: ${data['price']} ({data['change']:+.2f})"
```

### Error Handling

Tools should handle errors gracefully:

```python
def get_user_profile(user_id: str) -> str:
    """
    Get user profile information.

    Args:
        user_id: Unique user identifier

    Returns:
        str: User profile information or error message
    """
    try:
        user = database.get_user(user_id)
        if not user:
            return f"User {user_id} not found"

        return f"User: {user.name}, Email: {user.email}, Status: {user.status}"

    except DatabaseError as e:
        return f"Error accessing user data: {str(e)}"
    except Exception as e:
        return f"Unexpected error: {str(e)}"
```

### Tool Validation

NOMOS automatically validates tool parameters:

```python
from typing import Literal

def set_thermostat(temperature: float, unit: Literal["F", "C"] = "F") -> str:
    """
    Set thermostat temperature.

    Args:
        temperature: Desired temperature
        unit: Temperature unit (F or C)

    Returns:
        str: Confirmation of temperature setting
    """
    if unit == "C" and (temperature < 10 or temperature > 35):
        return "Temperature out of reasonable range for Celsius"
    elif unit == "F" and (temperature < 50 or temperature > 95):
        return "Temperature out of reasonable range for Fahrenheit"

    # Set temperature logic
    return f"Thermostat set to {temperature}°{unit}"
```

## External Tool Integration

### Python Package Tools

NOMOS can directly use functions from Python packages without wrapper code:

```yaml
# config.agent.yaml
tools:
  external_tools:
    - tag: "@pkg/itertools.combinations"
      name: "combinations"
    - tag: "@pkg/math.sqrt"
      name: "sqrt"
    - tag: "@pkg/datetime.datetime.now"
      name: "get_current_time"
    - tag: "@pkg/json.loads"
      name: "parse_json"
      kwargs:
        strict: false
```

**Benefits:**
- No wrapper code needed
- Automatic parameter validation
- Docstring-based descriptions
- Direct access to Python ecosystem

### CrewAI Tools Integration

Use existing CrewAI tools directly in your NOMOS agents:

```yaml
# config.agent.yaml
tools:
  external_tools:
    - tag: "@crewai/FileReadTool"
      name: "file_read_tool"
    - tag: "@crewai/FileWriteTool"
      name: "file_write_tool"
    - tag: "@crewai/DirectoryReadTool"
      name: "directory_read_tool"
    - tag: "@crewai/CodeDocsSearchTool"
      name: "code_search_tool"
      kwargs:
        docs_url: "https://docs.example.com"
```

**Python Usage:**
```python
from crewai_tools import FileReadTool, WebsiteSearchTool

# These can be used directly in NOMOS
def setup_agent_with_crewai_tools():
    config = AgentConfig(
        # ... other config
        tools=ToolsConfig(
            external_tools=[
                ExternalTool(tag="@crewai/FileReadTool", name="read_file"),
                ExternalTool(tag="@crewai/WebsiteSearchTool", name="web_search")
            ]
        )
    )
```

### LangChain Tools Integration

Integrate LangChain tools seamlessly:

```yaml
# config.agent.yaml
tools:
  external_tools:
    - tag: "@langchain/DuckDuckGoSearchRun"
      name: "web_search"
    - tag: "@langchain/ShellTool"
      name: "shell_command"
    - tag: "@langchain/PythonREPLTool"
      name: "python_repl"
    - tag: "@langchain/WikipediaQueryRun"
      name: "wikipedia_search"
      kwargs:
        top_k_results: 3
```

**Python Usage:**
```python
from langchain_community.tools import DuckDuckGoSearchRun, ShellTool

# Direct integration in Python
config = AgentConfig(
    # ... other config
    tools=ToolsConfig(
        external_tools=[
            ExternalTool(tag="@langchain/DuckDuckGoSearchRun", name="search"),
            ExternalTool(tag="@langchain/ShellTool", name="shell")
        ]
    )
)
```

## Advanced Tool Features

### Async Tools

NOMOS supports asynchronous tools for I/O operations:

```python
import asyncio
import aiohttp

async def fetch_stock_data(symbol: str) -> str:
    """
    Asynchronously fetch stock data.

    Args:
        symbol: Stock symbol to fetch

    Returns:
        str: Stock price and change information
    """
    async with aiohttp.ClientSession() as session:
        async with session.get(f"https://api.stocks.com/{symbol}") as response:
            data = await response.json()
            return f"{symbol}: ${data['price']} ({data['change']:+.2f})"
```

### Error Handling

Tools should handle errors gracefully:

```python
def get_user_profile(user_id: str) -> str:
    """
    Get user profile information.

    Args:
        user_id: Unique user identifier

    Returns:
        str: User profile information or error message
    """
    try:
        user = database.get_user(user_id)
        if not user:
            return f"User {user_id} not found"

        return f"User: {user.name}, Email: {user.email}, Status: {user.status}"

    except DatabaseError as e:
        return f"Error accessing user data: {str(e)}"
    except Exception as e:
        return f"Unexpected error: {str(e)}"
```

### Tool Validation

NOMOS automatically validates tool parameters:

```python
from typing import Literal

def set_thermostat(temperature: float, unit: Literal["F", "C"] = "F") -> str:
    """
    Set thermostat temperature.

    Args:
        temperature: Desired temperature
        unit: Temperature unit (F or C)

    Returns:
        str: Confirmation of temperature setting
    """
    if unit == "C" and (temperature < 10 or temperature > 35):
        return "Temperature out of reasonable range for Celsius"
    elif unit == "F" and (temperature < 50 or temperature > 95):
        return "Temperature out of reasonable range for Fahrenheit"

    # Set temperature logic
    return f"Thermostat set to {temperature}°{unit}"
```

## External Tool Integration

### Python Package Tools

NOMOS can directly use functions from Python packages without wrapper code:

```yaml
# config.agent.yaml
tools:
  external_tools:
    - tag: "@pkg/itertools.combinations"
      name: "combinations"
    - tag: "@pkg/math.sqrt"
      name: "sqrt"
    - tag: "@pkg/datetime.datetime.now"
      name: "get_current_time"
    - tag: "@pkg/json.loads"
      name: "parse_json"
      kwargs:
        strict: false
```

**Benefits:**
- No wrapper code needed
- Automatic parameter validation
- Docstring-based descriptions
- Direct access to Python ecosystem

### CrewAI Tools Integration

Use existing CrewAI tools directly in your NOMOS agents:

```yaml
# config.agent.yaml
tools:
  external_tools:
    - tag: "@crewai/FileReadTool"
      name: "file_read_tool"
    - tag: "@crewai/FileWriteTool"
      name: "file_write_tool"
    - tag: "@crewai/DirectoryReadTool"
      name: "directory_read_tool"
    - tag: "@crewai/CodeDocsSearchTool"
      name: "code_search_tool"
      kwargs:
        docs_url: "https://docs.example.com"
```

**Python Usage:**
```python
from crewai_tools import FileReadTool, WebsiteSearchTool

# These can be used directly in NOMOS
def setup_agent_with_crewai_tools():
    config = AgentConfig(
        # ... other config
        tools=ToolsConfig(
            external_tools=[
                ExternalTool(tag="@crewai/FileReadTool", name="read_file"),
                ExternalTool(tag="@crewai/WebsiteSearchTool", name="web_search")
            ]
        )
    )
```

### LangChain Tools Integration

Integrate LangChain tools seamlessly:

```yaml
# config.agent.yaml
tools:
  external_tools:
    - tag: "@langchain/DuckDuckGoSearchRun"
      name: "web_search"
    - tag: "@langchain/ShellTool"
      name: "shell_command"
    - tag: "@langchain/PythonREPLTool"
      name: "python_repl"
    - tag: "@langchain/WikipediaQueryRun"
      name: "wikipedia_search"
      kwargs:
        top_k_results: 3
```

**Python Usage:**
```python
from langchain_community.tools import DuckDuckGoSearchRun, ShellTool

# Direct integration in Python
config = AgentConfig(
    # ... other config
    tools=ToolsConfig(
        external_tools=[
            ExternalTool(tag="@langchain/DuckDuckGoSearchRun", name="search"),
            ExternalTool(tag="@langchain/ShellTool", name="shell")
        ]
    )
)
```

## Advanced Tool Features

### Async Tools

NOMOS supports asynchronous tools for I/O operations:

```python
import asyncio
import aiohttp

async def fetch_stock_data(symbol: str) -> str:
    """
    Asynchronously fetch stock data.

    Args:
        symbol: Stock symbol to fetch

    Returns:
        str: Stock price and change information
    """
    async with aiohttp.ClientSession() as session:
        async with session.get(f"https://api.stocks.com/{symbol}") as response:
            data = await response.json()
            return f"{symbol}: ${data['price']} ({data['change']:+.2f})"
```

### Error Handling

Tools should handle errors gracefully:

```python
def get_user_profile(user_id: str) -> str:
    """
    Get user profile information.

    Args:
        user_id: Unique user identifier

    Returns:
        str: User profile information or error message
    """
    try:
        user = database.get_user(user_id)
        if not user:
            return f"User {user_id} not found"

        return f"User: {user.name}, Email: {user.email}, Status: {user.status}"

    except DatabaseError as e:
        return f"Error accessing user data: {str(e)}"
    except Exception as e:
        return f"Unexpected error: {str(e)}"
```

### Tool Validation

NOMOS automatically validates tool parameters:

```python
from typing import Literal

def set_thermostat(temperature: float, unit: Literal["F", "C"] = "F") -> str:
    """
    Set thermostat temperature.

    Args:
        temperature: Desired temperature
        unit: Temperature unit (F or C)

    Returns:
        str: Confirmation of temperature setting
    """
    if unit == "C" and (temperature < 10 or temperature > 35):
        return "Temperature out of reasonable range for Celsius"
    elif unit == "F" and (temperature < 50 or temperature > 95):
        return "Temperature out of reasonable range for Fahrenheit"

    # Set temperature logic
    return f"Thermostat set to {temperature}°{unit}"
```

## External Tool Integration

### Python Package Tools

NOMOS can directly use functions from Python packages without wrapper code:

```yaml
# config.agent.yaml
tools:
  external_tools:
    - tag: "@pkg/itertools.combinations"
      name: "combinations"
    - tag: "@pkg/math.sqrt"
      name: "sqrt"
    - tag: "@pkg/datetime.datetime.now"
      name: "get_current_time"
    - tag: "@pkg/json.loads"
      name: "parse_json"
      kwargs:
        strict: false
```

**Benefits:**
- No wrapper code needed
- Automatic parameter validation
- Docstring-based descriptions
- Direct access to Python ecosystem

### CrewAI Tools Integration

Use existing CrewAI tools directly in your NOMOS agents:

```yaml
# config.agent.yaml
tools:
  external_tools:
    - tag: "@crewai/FileReadTool"
      name: "file_read_tool"
    - tag: "@crewai/FileWriteTool"
      name: "file_write_tool"
    - tag: "@crewai/DirectoryReadTool"
      name: "directory_read_tool"
    - tag: "@crewai/CodeDocsSearchTool"
      name: "code_search_tool"
      kwargs:
        docs_url: "https://docs.example.com"
```

**Python Usage:**
```python
from crewai_tools import FileReadTool, WebsiteSearchTool

# These can be used directly in NOMOS
def setup_agent_with_crewai_tools():
    config = AgentConfig(
        # ... other config
        tools=ToolsConfig(
            external_tools=[
                ExternalTool(tag="@crewai/FileReadTool", name="read_file"),
                ExternalTool(tag="@crewai/WebsiteSearchTool", name="web_search")
            ]
        )
    )
```

### LangChain Tools Integration

Integrate LangChain tools seamlessly:

```yaml
# config.agent.yaml
tools:
  external_tools:
    - tag: "@langchain/DuckDuckGoSearchRun"
      name: "web_search"
    - tag: "@langchain/ShellTool"
      name: "shell_command"
    - tag: "@langchain/PythonREPLTool"
      name: "python_repl"
    - tag: "@langchain/WikipediaQueryRun"
      name: "wikipedia_search"
      kwargs:
        top_k_results: 3
```

**Python Usage:**
```python
from langchain_community.tools import DuckDuckGoSearchRun, ShellTool

# Direct integration in Python
config = AgentConfig(
    # ... other config
    tools=ToolsConfig(
        external_tools=[
            ExternalTool(tag="@langchain/DuckDuckGoSearchRun", name="search"),
            ExternalTool(tag="@langchain/ShellTool", name="shell")
        ]
    )
)
```

## Advanced Tool Features

### Async Tools

NOMOS supports asynchronous tools for I/O operations:

```python
import asyncio
import aiohttp

async def fetch_stock_data(symbol: str) -> str:
    """
    Asynchronously fetch stock data.

    Args:
        symbol: Stock symbol to fetch

    Returns:
        str: Stock price and change information
    """
    async with aiohttp.ClientSession() as session:
        async with session.get(f"https://api.stocks.com/{symbol}") as response:
            data = await response.json()
            return f"{symbol}: ${data['price']} ({data['change']:+.2f})"
```

### Error Handling

Tools should handle errors gracefully:

```python
def get_user_profile(user_id: str) -> str:
    """
    Get user profile information.

    Args:
        user_id: Unique user identifier

    Returns:
        str: User profile information or error message
    """
    try:
        user = database.get_user(user_id)
        if not user:
            return f"User {user_id} not found"

        return f"User: {user.name}, Email: {user.email}, Status: {user.status}"

    except DatabaseError as e:
        return f"Error accessing user data: {str(e)}"
    except Exception as e:
        return f"Unexpected error: {str(e)}"
```

### Tool Validation

NOMOS automatically validates tool parameters:

```python
from typing import Literal

def set_thermostat(temperature: float, unit: Literal["F", "C"] = "F") -> str:
    """
    Set thermostat temperature.

    Args:
        temperature: Desired temperature
        unit: Temperature unit (F or C)

    Returns:
        str: Confirmation of temperature setting
    """
    if unit == "C" and (temperature < 10 or temperature > 35):
        return "Temperature out of reasonable range for Celsius"
    elif unit == "F" and (temperature < 50 or temperature > 95):
        return "Temperature out of reasonable range for Fahrenheit"

    # Set temperature logic
    return f"Thermostat set to {temperature}°{unit}"
```

## External Tool Integration

### Python Package Tools

NOMOS can directly use functions from Python packages without wrapper code:

```yaml
# config.agent.yaml
tools:
  external_tools:
    - tag: "@pkg/itertools.combinations"
      name: "combinations"
    - tag: "@pkg/math.sqrt"
      name: "sqrt"
    - tag: "@pkg/datetime.datetime.now"
      name: "get_current_time"
    - tag: "@pkg/json.loads"
      name: "parse_json"
      kwargs:
        strict: false
```

**Benefits:**
- No wrapper code needed
- Automatic parameter validation
- Docstring-based descriptions
- Direct access to Python ecosystem

### CrewAI Tools Integration

Use existing CrewAI tools directly in your NOMOS agents:

```yaml
# config.agent.yaml
tools:
  external_tools:
    - tag: "@crewai/FileReadTool"
      name: "file_read_tool"
    - tag: "@crewai/FileWriteTool"
      name: "file_write_tool"
    - tag: "@crewai/DirectoryReadTool"
      name: "directory_read_tool"
    - tag: "@crewai/CodeDocsSearchTool"
      name: "code_search_tool"
      kwargs:
        docs_url: "https://docs.example.com"
```

**Python Usage:**
```python
from crewai_tools import FileReadTool, WebsiteSearchTool

# These can be used directly in NOMOS
def setup_agent_with_crewai_tools():
    config = AgentConfig(
        # ... other config
        tools=ToolsConfig(
            external_tools=[
                ExternalTool(tag="@crewai/FileReadTool", name="read_file"),
                ExternalTool(tag="@crewai/WebsiteSearchTool", name="web_search")
            ]
        )
    )
```

### LangChain Tools Integration

Integrate LangChain tools seamlessly:

```yaml
# config.agent.yaml
tools:
  external_tools:
    - tag: "@langchain/DuckDuckGoSearchRun"
      name: "web_search"
    - tag: "@langchain/ShellTool"
      name: "shell_command"
    - tag: "@langchain/PythonREPLTool"
      name: "python_repl"
    - tag: "@langchain/WikipediaQueryRun"
      name: "wikipedia_search"
      kwargs:
        top_k_results: 3
```

**Python Usage:**
```python
from langchain_community.tools import DuckDuckGoSearchRun, ShellTool

# Direct integration in Python
config = AgentConfig(
    # ... other config
    tools=ToolsConfig(
        external_tools=[
            ExternalTool(tag="@langchain/DuckDuckGoSearchRun", name="search"),
            ExternalTool(tag="@langchain/ShellTool", name="shell")
        ]
    )
)
```

## Advanced Tool Features

### Async Tools

NOMOS supports asynchronous tools for I/O operations:

```python
import asyncio
import aiohttp

async def fetch_stock_data(symbol: str) -> str:
    """
    Asynchronously fetch stock data.

    Args:
        symbol: Stock symbol to fetch

    Returns:
        str: Stock price and change information
    """
    async with aiohttp.ClientSession() as session:
        async with session.get(f"https://api.stocks.com/{symbol}") as response:
            data = await response.json()
            return f"{symbol}: ${data['price']} ({data['change']:+.2f})"
```

### Error Handling

Tools should handle errors gracefully:

```python
def get_user_profile(user_id: str) -> str:
    """
    Get user profile information.

    Args:
        user_id: Unique user identifier

    Returns:
        str: User profile information or error message
    """
    try:
        user = database.get_user(user_id)
        if not user:
            return f"User {user_id} not found"

        return f"User: {user.name}, Email: {user.email}, Status: {user.status}"

    except DatabaseError as e:
        return f"Error accessing user data: {str(e)}"
    except Exception as e:
        return f"Unexpected error: {str(e)}"
```

### Tool Validation

NOMOS automatically validates tool parameters:

```python
from typing import Literal

def set_thermostat(temperature: float, unit: Literal["F", "C"] = "F") -> str:
    """
    Set thermostat temperature.

    Args:
        temperature: Desired temperature
        unit: Temperature unit (F or C)

    Returns:
        str: Confirmation of temperature setting
    """
    if unit == "C" and (temperature < 10 or temperature > 35):
        return "Temperature out of reasonable range for Celsius"
    elif unit == "F" and (temperature < 50 or temperature > 95):
        return "Temperature out of reasonable range for Fahrenheit"

    # Set temperature logic
    return f"Thermostat set to {temperature}°{unit}"
```

## External Tool Integration

### Python Package Tools

NOMOS can directly use functions from Python packages without wrapper code:

```yaml
# config.agent.yaml
tools:
  external_tools:
    - tag: "@pkg/itertools.combinations"
      name: "combinations"
    - tag: "@pkg/math.sqrt"
      name: "sqrt"
    - tag: "@pkg/datetime.datetime.now"
      name: "get_current_time"
    - tag: "@pkg/json.loads"
      name: "parse_json"
      kwargs:
        strict: false
```

**Benefits:**
- No wrapper code needed
- Automatic parameter validation
- Docstring-based descriptions
- Direct access to Python ecosystem

### CrewAI Tools Integration

Use existing CrewAI tools directly in your NOMOS agents:

```yaml
# config.agent.yaml
tools:
  external_tools:
    - tag: "@crewai/FileReadTool"
      name: "file_read_tool"
    - tag: "@crewai/FileWriteTool"
      name: "file_write_tool"
    - tag: "@crewai/DirectoryReadTool"
      name: "directory_read_tool"
    - tag: "@crewai/CodeDocsSearchTool"
      name: "code_search_tool"
      kwargs:
        docs_url: "https://docs.example.com"
```

**Python Usage:**
```python
from crewai_tools import FileReadTool, WebsiteSearchTool

# These can be used directly in NOMOS
def setup_agent_with_crewai_tools():
    config = AgentConfig(
        # ... other config
        tools=ToolsConfig(
            external_tools=[
                ExternalTool(tag="@crewai/FileReadTool", name="read_file"),
                ExternalTool(tag="@crewai/WebsiteSearchTool", name="web_search")
            ]
        )
    )
```

### LangChain Tools Integration

Integrate LangChain tools seamlessly:

```yaml
# config.agent.yaml
tools:
  external_tools:
    - tag: "@langchain/DuckDuckGoSearchRun"
      name: "web_search"
    - tag: "@langchain/ShellTool"
      name: "shell_command"
    - tag: "@langchain/PythonREPLTool"
      name: "python_repl"
    - tag: "@langchain/WikipediaQueryRun"
      name: "wikipedia_search"
      kwargs:
        top_k_results: 3
```

**Python Usage:**
```python
from langchain_community.tools import DuckDuckGoSearchRun, ShellTool

# Direct integration in Python
config = AgentConfig(
    # ... other config
    tools=ToolsConfig(
        external_tools=[
            ExternalTool(tag="@langchain/DuckDuckGoSearchRun", name="search"),
            ExternalTool(tag="@langchain/ShellTool", name="shell")
        ]
    )
)
```

## Advanced Tool Features

### Async Tools

NOMOS supports asynchronous tools for I/O operations:

```python
import asyncio
import aiohttp

async def fetch_stock_data(symbol: str) -> str:
    """
    Asynchronously fetch stock data.

    Args:
        symbol: Stock symbol to fetch

    Returns:
        str: Stock price and change information
    """
    async with aiohttp.ClientSession() as session:
        async with session.get(f"https://api.stocks.com/{symbol}") as response:
            data = await response.json()
            return f"{symbol}: ${data['price']} ({data['change']:+.2f})"
```

### Error Handling

Tools should handle errors gracefully:

```python
def get_user_profile(user_id: str) -> str:
    """
    Get user profile information.

    Args:
        user_id: Unique user identifier

    Returns:
        str: User profile information or error message
    """
    try:
        user = database.get_user(user_id)
        if not user:
            return f"User {user_id} not found"

        return f"User: {user.name}, Email: {user.email}, Status: {user.status}"

    except DatabaseError as e:
        return f"Error accessing user data: {str(e)}"
    except Exception as e:
        return f"Unexpected error: {str(e)}"
```

### Tool Validation

NOMOS automatically validates tool parameters:

```python
from typing import Literal

def set_thermostat(temperature: float, unit: Literal["F", "C"] = "F") -> str:
    """
    Set thermostat temperature.

    Args:
        temperature: Desired temperature
        unit: Temperature unit (F or C)

    Returns:
        str: Confirmation of temperature setting
    """
    if unit == "C" and (temperature < 10 or temperature > 35):
        return "Temperature out of reasonable range for Celsius"
    elif unit == "F" and (temperature < 50 or temperature > 95):
        return "Temperature out of reasonable range for Fahrenheit"

    # Set temperature logic
    return f"Thermostat set to {temperature}°{unit}"
```

## External Tool Integration

### Python Package Tools

NOMOS can directly use functions from Python packages without wrapper code:

```yaml
# config.agent.yaml
tools:
  external_tools:
    - tag: "@pkg/itertools.combinations"
      name: "combinations"
    - tag: "@pkg/math.sqrt"
      name: "sqrt"
    - tag: "@pkg/datetime.datetime.now"
      name: "get_current_time"
    - tag: "@pkg/json.loads"
      name: "parse_json"
      kwargs:
        strict: false
```

**Benefits:**
- No wrapper code needed
- Automatic parameter validation
- Docstring-based descriptions
- Direct access to Python ecosystem

### CrewAI Tools Integration

Use existing CrewAI tools directly in your NOMOS agents:

```yaml
# config.agent.yaml
tools:
  external_tools:
    - tag: "@crewai/FileReadTool"
      name: "file_read_tool"
    - tag: "@crewai/FileWriteTool"
      name: "file_write_tool"
    - tag: "@crewai/DirectoryReadTool"
      name: "directory_read_tool"
    - tag: "@crewai/CodeDocsSearchTool"
      name: "code_search_tool"
      kwargs:
        docs_url: "https://docs.example.com"
```

**Python Usage:**
```python
from crewai_tools import FileReadTool, WebsiteSearchTool

# These can be used directly in NOMOS
def setup_agent_with_crewai_tools():
    config = AgentConfig(
        # ... other config
        tools=ToolsConfig(
            external_tools=[
                ExternalTool(tag="@crewai/FileReadTool", name="read_file"),
                ExternalTool(tag="@crewai/WebsiteSearchTool", name="web_search")
            ]
        )
    )
```

### LangChain Tools Integration

Integrate LangChain tools seamlessly:

```yaml
# config.agent.yaml
tools:
  external_tools:
    - tag: "@langchain/DuckDuckGoSearchRun"
      name: "web_search"
    - tag: "@langchain/ShellTool"
      name: "shell_command"
    - tag: "@langchain/PythonREPLTool"
      name: "python_repl"
    - tag: "@langchain/WikipediaQueryRun"
      name: "wikipedia_search"
      kwargs:
        top_k_results: 3
```

**Python Usage:**
```python
from langchain_community.tools import DuckDuckGoSearchRun, ShellTool

# Direct integration in Python
config = AgentConfig(
    # ... other config
    tools=ToolsConfig(
        external_tools=[
            ExternalTool(tag="@langchain/DuckDuckGoSearchRun", name="search"),
            ExternalTool(tag="@langchain/ShellTool", name="shell")
        ]
    )
)
```

## Advanced Tool Features

### Async Tools

NOMOS supports asynchronous tools for I/O operations:

```python
